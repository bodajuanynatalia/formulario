<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boda de Juan & Natalia â€” 27 de junio de 2026</title>
  <meta name="description" content="Confirma tu asistencia y comparte con nosotros este dÃ­a tan especial." />

  <!-- Open Graph / WhatsApp / Instagram -->
  <meta property="og:title" content="Boda de Juan & Natalia â€” 27 de junio de 2026" />
  <meta property="og:description" content="Confirma tu asistencia y comparte con nosotros este dÃ­a tan especial." />
  <meta property="og:image" content="preview.jpg" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="es_ES" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Boda de Juan & Natalia â€” 27 de junio de 2026" />
  <meta name="twitter:description" content="Confirma tu asistencia y comparte con nosotros este dÃ­a tan especial." />
  <meta name="twitter:image" content="preview.jpg" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="favicon.ico" />

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f7f5f2; --card:#ffffff; --text:#2b2b2b; --muted:#5f5c56;
      --gold:#c7a66a; --gold-2:#b58f4f; --line:#e8e2d9;
      --radius:18px; --shadow:0 10px 35px rgba(0,0,0,.10);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; line-height:1.6;
      background:
        radial-gradient(900px 500px at 10% -5%, rgba(199,166,106,.06), transparent 60%),
        radial-gradient(1100px 700px at 120% 10%, rgba(181,143,79,.05), transparent 60%),
        var(--bg);
    }
    .wrap{max-width:980px;margin:0 auto;padding:24px}
    header{display:grid;gap:28px;grid-template-columns:1.1fr .9fr;align-items:stretch;margin-top:28px;margin-bottom:28px}
    @media (max-width:980px){header{grid-template-columns:1fr}}
    .hero,.spotlight{min-height:360px; display:flex; flex-direction:column}
    .hero{background:rgba(255,255,255,.9);backdrop-filter:saturate(110%) blur(2px);border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid var(--line);padding:30px}
    .title{font-family:'Playfair Display',serif;font-weight:700;font-size:48px;letter-spacing:.5px;margin:6px 0}
    .subtitle{color:var(--muted);font-size:15px}
    .names{font-family:'Playfair Display',serif;font-weight:500;font-size:22px;color:#b58f4f;letter-spacing:.06em;text-transform:uppercase}
    .card{background:rgba(255,255,255,.92);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
    .spotlight{overflow:hidden;padding:14px}
    .spotlight img{width:100%;height:100%;max-height:360px;object-fit:cover;display:block;border-radius:14px}
    .spotlight .cap{padding:10px 4px 0;color:#3a3326;font-weight:600}
    form{padding:24px 24px 18px}
    h2{font-family:'Playfair Display',serif;font-size:26px;margin:0 0 16px}
    label{font-family:'Playfair Display',serif; font-weight:600; font-size:15px; letter-spacing:.2px; color:#2d2a25; margin-bottom:8px}
    .field{display:flex;flex-direction:column; margin-bottom:22px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:18px; margin-bottom:22px}
    @media (max-width:720px){.row{grid-template-columns:1fr}}
    input,select,textarea{
      background:#fff; border:1px solid #dcd5c8; border-radius:14px; padding:12px 14px; font-size:15px; outline:none; color:#222;
      box-shadow:inset 0 0 0 0 rgba(0,0,0,0);
    }
    input:focus,select:focus,textarea:focus{border-color:var(--gold); box-shadow:0 0 0 3px rgba(199,166,106,.18)}
    select{appearance:none; background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><path fill=\"%23b58f4f\" d=\"M5 7l5 6 5-6z\"/></svg>'); background-repeat:no-repeat; background-position:right 12px center; padding-right:36px}
    textarea{min-height:110px;resize:vertical}
    .hint{color:var(--muted);font-size:12px;margin-top:6px}
    .rsvp-actions{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-top:10px;margin-bottom:22px}
    button{appearance:none; border-radius:999px; padding:12px 20px; font-weight:700; letter-spacing:.2px; cursor:pointer}
    .btn-primary{background:#fff; color:#6b542a; border:1.5px solid var(--gold); box-shadow:0 2px 0 rgba(181,143,79,.25)}
    .btn-primary:hover{background:#fbfaf7}
    .btn-secondary{background:#fff; color:#3a3a3a; border:1.5px solid #dcd5c8}
    .btn-secondary:hover{background:#fcfcfb}
    .success,.error{display:none;margin:12px 0 0;padding:12px 14px;border-radius:12px;font-weight:600}
    .success{background:linear-gradient(180deg,#f4fbf6,#edf8ef);border:1px solid #d7f0dd;color:#275c34}
    .error{background:linear-gradient(180deg,#fff6f6,#fff2f2);border:1px solid #ffd8d8;color:#7a1a1a}
    .req{color:#a83b3b}
    .hp{position:absolute;left:-5000px;opacity:0;pointer-events:none}
    .carousel{position:relative;width:100%; background:var(--bg); border:1px solid var(--line); border-radius:12px; padding:10px; box-shadow:var(--shadow); overflow:hidden}
    .carousel img{display:block; width:100%; height:auto; object-fit:contain; background:var(--bg); border-radius:8px; opacity:0; transition:opacity 900ms ease-in-out; max-height:440px}
    .carousel img.show{opacity:1}
    .nav{position:absolute; top:50%; transform:translateY(-50%); width:34px; height:34px; border-radius:50%; border:1px solid var(--line); background:#fff; display:flex; align-items:center; justify-content:center; cursor:pointer; opacity:.65}
    .nav:hover{opacity:1}
    .nav:focus{outline:2px solid var(--gold)}
    .prev{left:12px}
    .next{right:12px}
    .dots{position:absolute; left:0; right:0; bottom:8px; display:flex; gap:6px; justify-content:center}
    .dot{width:7px; height:7px; border-radius:999px; background:#d7d3ca; opacity:.7}
    .dot.active{opacity:1; background:#b8ad98}
    .footer{color:#7a746b;font-size:13px;padding:16px;text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <section class="hero">
        <div class="names">Boda de</div>
        <h1 class="title">Juan & Natalia</h1>
        <p class="subtitle">SÃ¡bado <strong>27 de junio de 2026</strong> Â· <span id="locationText">Comillas</span></p>
        <div id="countdown" aria-live="polite" title="Cuenta atrÃ¡s" style="display:flex;gap:12px;margin-top:12px">
          <div style="background:#fff;border:1px solid var(--line);border-radius:999px;padding:8px 12px"><strong id="dd">--</strong> dÃ­as</div>
          <div style="background:#fff;border:1px solid var(--line);border-radius:999px;padding:8px 12px"><strong id="hh">--</strong> h</div>
          <div style="background:#fff;border:1px solid var(--line);border-radius:999px;padding:8px 12px"><strong id="mm">--</strong> m</div>
          <div style="background:#fff;border:1px solid var(--line);border-radius:999px;padding:8px 12px"><strong id="ss">--</strong> s</div>
        </div>
      </section>
      <section class="card spotlight">
        <img src="finca.jpg" alt="CaserÃ­a de la Mar, Comillas" />
        <div class="cap">CelebraciÃ³n: <strong>CaserÃ­a de la Mar</strong> â€” Comillas</div>
      </section>
    </header>

    <main class="card" role="form" aria-labelledby="rsvp-title">
      <form id="rsvp" action="https://script.google.com/macros/s/AKfycbyBvoPHWbOIgCyp1lKgObxo2yvplq-pgs9T2NyE1shO4WTTQ3q_ckkYrCaepe3QMFIf/exec" method="POST" novalidate>
        <h2 id="rsvp-title">Confirma tu asistencia</h2>
        <input class="hp" type="text" name="_gotcha" tabindex="-1" autocomplete="off" />

        <div class="row">
          <div class="field">
            <label>Nombre y apellidos <span class="req">*</span></label>
            <input type="text" name="nombre" required minlength="2" placeholder="Tu nombre completo" />
          </div>
          <div class="field">
            <label>Email <span class="req">*</span></label>
            <input type="email" name="email" required inputmode="email" placeholder="tucorreo@email.com" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label>TelÃ©fono</label>
            <input type="tel" name="telefono" inputmode="tel" placeholder="+34 6XX XX XX XX" />
          </div>
          <div class="field">
            <label>Â¿PodrÃ¡s asistir? <span class="req">*</span></label>
            <select name="asistencia" id="asistencia" required>
              <option value="" selected disabled>Selecciona una opciÃ³nâ€¦</option>
              <option value="si">SÃ­, allÃ­ estarÃ©</option>
              <option value="no">No podrÃ© asistir</option>
              <option value="duda">AÃºn no lo sÃ©</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label>Â¿LlevarÃ¡s acompaÃ±ante?</label>
            <select name="acompanante" id="acompanante">
              <option value="">â€”</option>
              <option value="no">No</option>
              <option value="si-1">SÃ­ (1 persona)</option>
            </select>
          </div>
          <div class="field" id="nombreAcompananteWrap" style="display:none">
            <label>Nombre del acompaÃ±ante</label>
            <input type="text" name="nombre_acompanante" placeholder="Nombre y apellidos" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label>Â¿TraerÃ¡s niÃ±os?</label>
            <select name="ninos" id="ninos">
              <option value="">â€”</option>
              <option value="no">No</option>
              <option value="si">SÃ­</option>
            </select>
          </div>
          <div class="field" id="numNinosWrap" style="display:none">
            <label>Â¿CuÃ¡ntos niÃ±os?</label>
            <input type="number" name="num_ninos" id="num_ninos" min="1" step="1" placeholder="Ej.: 1" />
          </div>
        </div>

        <div class="field">
          <label>Intolerancias o alergias</label>
          <input type="text" name="intolerancias" placeholder="Ej.: sin gluten, sin lÃ¡cteos, frutos secosâ€¦" />
        </div>

        <div class="field">
          <label>Comentarios</label>
          <textarea name="comentarios" placeholder="CuÃ©ntanos cualquier detalle que debamos tener en cuenta"></textarea>
        </div>

        <div class="field">
          <label><input type="checkbox" name="consent" required /> Acepto que mis datos se usen solo para la organizaciÃ³n de la boda. <span class="req">*</span></label>
          <div class="hint">Contacto: <a href="mailto:juangumar1@gmail.com">juangumar1@gmail.com</a></div>
        </div>

        <div class="rsvp-actions">
          <button type="submit" class="btn-primary">Enviar confirmaciÃ³n</button>
          <button type="reset" class="btn-secondary">Limpiar</button>
        </div>

        <div class="carousel" aria-label="QuÃ© ver en Comillas" id="carousel">
          <button class="nav prev" aria-label="Anterior" type="button">â—€</button>
          <img id="carousel-image" src="quever1.jpg" alt="QuÃ© ver en Comillas" class="show" />
          <button class="nav next" aria-label="Siguiente" type="button">â–¶</button>
          <div class="dots" id="dots" aria-hidden="true"></div>
        </div>

        <div class="success" id="ok">âœ¨ Â¡Gracias! Tu respuesta ha sido registrada.</div>
        <div class="error" id="fail">ðŸ˜… Algo no ha ido bien. Revisa los campos o intÃ©ntalo mÃ¡s tarde.</div>
      </form>
    </main>

    <p class="footer">Â© 2026 Juan & Natalia â€” Con cariÃ±o</p>
  </div>

  <script>
    const eventDate = new Date('2026-06-27T17:00:00');
    const dd = document.getElementById('dd'), hh = document.getElementById('hh'), mm = document.getElementById('mm'), ss = document.getElementById('ss');
    function tick(){
      const now = new Date();
      const delta = Math.max(0, eventDate - now);
      const s = Math.floor(delta/1000);
      const d = Math.floor(s/86400);
      const h = Math.floor((s%86400)/3600);
      const m = Math.floor((s%3600)/60);
      const sec = s%60;
      dd.textContent=d; hh.textContent=h.toString().padStart(2,'0'); mm.textContent=m.toString().padStart(2,'0'); ss.textContent=sec.toString().padStart(2,'0');
    }
    tick(); setInterval(tick, 1000);

    const form = document.getElementById('rsvp');
    const ok = document.getElementById('ok');
    const fail = document.getElementById('fail');
    const asistencia = document.getElementById('asistencia');
    const acomp = document.getElementById('acompanante');
    const acompWrap = document.getElementById('nombreAcompananteWrap');
    const ninos = document.getElementById('ninos');
    const numNinosWrap = document.getElementById('numNinosWrap');
    const numNinosInput = document.getElementById('num_ninos');

    acomp.addEventListener('change', ()=>{ acompWrap.style.display = (acomp.value === 'si-1') ? '' : 'none'; if(acomp.value !== 'si-1' && form.nombre_acompanante) form.nombre_acompanante.value=''; });
    ninos.addEventListener('change', ()=>{ if(ninos.value === 'si'){ numNinosWrap.style.display = ''; numNinosInput.required = true; } else { numNinosWrap.style.display = 'none'; numNinosInput.required = false; numNinosInput.value = ''; } });

    form.addEventListener('submit', async (e)=>{
      e.preventDefault(); ok.style.display='none'; fail.style.display='none';
      if(!form.checkValidity()){ form.reportValidity(); return; }
      if(form.querySelector('input[name="_gotcha"]').value){ window.location.href = 'gracias.html?status=spam'; return; }
      const data = new FormData(form);
      const status = asistencia.value;
      try{
        const res = await fetch(form.action, { method:'POST', body:data });
        if(res.ok){
          const name = encodeURIComponent(form.nombre.value || '');
          window.location.href = 'gracias.html?status=' + encodeURIComponent(status) + '&name=' + name;
        } else { fail.style.display='block'; }
      }catch(err){ fail.style.display='block'; }
    });

    const sources = ['quever1.jpg','quever2.jpg','quever3.jpg','quever4.jpg','fondo.jpg'];
    const carousel = document.getElementById('carousel');
    const img = document.getElementById('carousel-image');
    const prevBtn = document.querySelector('.prev');
    const nextBtn = document.querySelector('.next');
    const dotsWrap = document.getElementById('dots');
    const dots = sources.map((_,i)=>{ const d=document.createElement('span'); d.className='dot'+(i===0?' active':''); dotsWrap.appendChild(d); d.addEventListener('click', ()=>{ go(i); restart(); }); return d; });
    sources.forEach(src=>{ const pre=new Image(); pre.src=src; });
    let idx=0, timer=null, interval=5600;
    function show(i){ img.classList.remove('show'); setTimeout(()=>{ img.src=sources[i]; img.onload=()=>img.classList.add('show'); }, 80); dots.forEach((d,k)=>d.classList.toggle('active', k===i)); }
    function go(i){ idx=(i+sources.length)%sources.length; show(idx); }
    function next(){ go(idx+1); }
    function prev(){ go(idx-1); }
    function start(){ timer=setInterval(next, interval); }
    function stop(){ if(timer){ clearInterval(timer); timer=null; } }
    function restart(){ stop(); start(); }
    nextBtn.addEventListener('click', ()=>{ next(); restart(); });
    prevBtn.addEventListener('click', ()=>{ prev(); restart(); });
    carousel.addEventListener('mouseenter', stop);
    carousel.addEventListener('mouseleave', start);
    carousel.tabIndex = 0;
    carousel.addEventListener('keydown', (e)=>{ if(e.key==='ArrowRight'){ next(); restart(); } if(e.key==='ArrowLeft'){ prev(); restart(); } });
    start();
  </script>
</body>
</html>
